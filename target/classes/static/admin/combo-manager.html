<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qu·∫£n l√Ω Combo</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/combo-manager.css">
</head>
<body>
  <!-- Header -->
  <div class="header">
    <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
    <h1>Qu·∫£n l√Ω Combo</h1>
    <span id="headerClock" class="header-clock"></span>
    <div class="user-info" id="userInfo"></div>
  </div>

  <!-- Admin actions -->
  <div id="adminActions" class="admin-actions" style="text-align: end; margin-right: 20px; display: none;">
        <button id="btnAddCombo" class="btn" onclick="showAddCombo()">‚ûï Th√™m Combo</button>
  </div>
 
  <!-- Sidebar -->
  <div class="sidebar-container"></div>

  <!-- Toolbar -->
  <div class="toolbar">
    <input id="comboSearch" placeholder="üîç T√¨m combo..." />
    
  </div>

  <!-- Grid -->
  <div id="comboContainer" class="combo-grid"></div>

  <!-- Modal -->
  <div id="comboModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:600px;">
      <span class="close" onclick="closeComboModal()">&times;</span>
      <h2 id="comboModalTitle">Th√™m Combo</h2>

      <form id="comboForm" onsubmit="event.preventDefault(); submitCombo();">
        <div class="form-group">
          <label for="comboName">T√™n Combo *</label>
          <input type="text" id="comboName" placeholder="VD: M√¨ + N∆∞·ªõc" required>
        </div>

        <div class="form-group">
          <label>Ch·ªçn m√≥n trong combo:</label>
          <div id="menuList" class="menu-list">
            <div style="text-align:center;color:#6b7280;">ƒêang t·∫£i danh s√°ch m√≥n...</div>
          </div>
        </div>

        <div class="form-group">
          <label for="comboPrice">Gi√° Combo *</label>
          <input type="number" id="comboPrice" placeholder="T·ª± t√≠nh sau khi ch·ªçn m√≥n" min="1000" required>
          <small>ƒê∆°n v·ªã: VND</small>
        </div>

        <label style="display:flex;align-items:center;gap:6px;margin-top:10px;">
          <input type="checkbox" id="comboActive" checked>
          <span>ƒêang b√°n</span>
        </label>

        <div id="comboError" class="form-error"></div>

        <div style="display:flex;justify-content:space-between;margin-top:16px;">
          <span id="comboTotal" style="color:#555;font-size:0.9rem;">T·ªïng: 0 VND</span>
          <div style="display:flex;gap:10px;">
            <button type="button" class="btn secondary" onclick="closeComboModal()">H·ªßy</button>
            <button type="submit" class="btn primary">L∆∞u</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script>
    // N·∫°p sidebar
    fetch("/admin/sidebar.html").then(r => r.text()).then(html => {
      document.querySelector(".sidebar-container").innerHTML = html;
      loadSidebarUser?.();
      initSidebarSubmenu?.();
    });
  </script>
  <script src="js/config.js"></script>
  <script src="js/common.js"></script>
  <script src="js/auth-fetch.js"></script>
  <script src="js/combo-manager.js"></script>
</body>
</html>
