<!-- resource/static/admin/categories.html -->
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω danh m·ª•c</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/categories.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <button class="menu-btn" onclick="toggleSidebar()">&#9776;</button>
        <h1>Qu·∫£n l√Ω danh m·ª•c</h1>

        <span id="headerClock" class="header-clock" aria-label="Gi·ªù hi·ªán t·∫°i"></span>
        
        <div class="user-info" id="userInfo"></div>
    </div>

      <!-- Admin actions -->
    <div id="adminActions" class="admin-actions" style="text-align: end; margin-right: 20px; display: none;">
        <button class="btn" onclick="showAddCategory()">‚ûï Th√™m danh m·ª•c</button>
    </div>

      <!-- Sidebar -->
    <div class="sidebar-container"></div>

    <div style="text-align:center; margin: 10px 0;">
        <input id="cateSearch" placeholder="üîç T√¨m theo t√™n danh m·ª•c..." style="padding:8px; width: 280px;"/>
    </div>

    <!-- Category list -->
    <div class="table-grid" id="categoryContainer"></div>

    <!-- Modal -->
    <div id="categoryModal" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closeCategoryModal()">&times;</span>
        <h2 id="categoryModalTitle">Th√™m danh m·ª•c</h2>

        <div class="form-group">
        <label for="categoryName">T√™n danh m·ª•c</label>
        <input type="text" id="categoryName" placeholder="T√™n danh m·ª•c" />
        </div>

        <div class="form-group">
        <label for="categoryImgFile">Ch·ªçn ·∫£nh</label>
        <input type="file" id="categoryImgFile" accept="image/*" />
        <div style="margin-top:8px">
            <img id="categoryPreview" alt=""
                style="max-width:100%;max-height:160px;display:none;border-radius:8px;object-fit:cover;">
        </div>
        </div>

        <div id="categoryError" class="form-error"></div>

        <div style="text-align:right; margin-top: 12px;">
        <button class="btn primary" onclick="submitCategory()">L∆∞u</button>
        </div>
    </div>
    </div>


    <script>
        // n·∫°p sidebar
        fetch('/admin/sidebar.html').then(r=>r.text()).then(html=>{
            document.querySelector('.sidebar-container').innerHTML = html;
            loadSidebarUser();
            initSidebarSubmenu();
    });
    </script>
    <script src="js/config.js"></script>
    <script src="js/auth-fetch.js"></script>
    <script src="js/common.js"></script>
    <script src="js/categories.js"></script>

</body>
</html>
